<DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Student Study Portal</title>
        <style>
            .chatbot-button {
                position: fixed;
                border-radius: 20px;
                bottom: 20px; /* Adjust the distance from the bottom as needed */
                right: 20px; /* Adjust the distance from the right as needed */
                z-index: 999; /* Ensure it appears above other content */
            }
    
            .subject {
                border: 1px solid #ddd; /* Add a border */
                padding: 10px; /* Add some spacing around the chapters */
                margin: 5px 0; /* Adjust vertical margin for better spacing */
                cursor: pointer;
            }
    
            .subject:hover {
                background-color: #f5f5f5; /* Change background color on hover */
            }
    body {
              background-image: linear-gradient(135deg, #FAB2FF 10%, #1904E5 100%);
              background-size: cover;
              background-repeat: no-repeat;
              border-radius: 25px;
              background-attachment: fixed;
              font-family: "Open Sans", sans-serif;
              color: #333333;
            }
    body {
        font-family: Arial, sans-serif;
        background-color: #C84630; /* Light gray background */
    }
    
    header {
      background: linear-gradient(135deg, #BA9FD1, #C8A0CF);
      border-radius: 25px;
      padding: 10px 0;
    }
    
    nav ul {
        list-style: none;
        display: flex;
        justify-content: space-around;
    }
    
    nav a {
        text-decoration: none;
        color: #333;
    }
    
    main {
        max-width: 800px;
        margin: 20px auto;
        padding: 20px;
        background: linear-gradient(to bottom, #AFD2E9, white);; /* White background */
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        border-radius: 15px
    }
    
    section {
        margin-bottom: 20px;
    }
    
    h1, h2 {
        color: #333;
    }
    
    ul {
        list-style: none;
    }
    
    li {
        margin-bottom: 10px;
    }
    
    button {
        background-color: #e1a6db; /* button */
        color: #fff;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
    }
    
    button:hover {
        background-color: #ae79b6; /*  on hover */
    }
    
    select, input {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        border: 1px solid #ddd;
    }
    
    footer {
        text-align: center;
        background-color: #F2CEE6;
        color: black;
        padding: 10px 0;
    }
        </style>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="home.html"><b>Home</b></a></li> 
                    <li><a href="assignments.html"><b>Assignments</b></a></li>
                    <li><a href="profile.html"><b>Profile</b></a></li>
                    <li><a href="{% url 'logout' %}"><b>Logout</b></a></li>
                </ul>
            </nav>
        </header>
        
        <main>
          <section id="welcome-section" style="text-align: center;">
            <h1>Welcome to your personalised Study Zone!</h1>
                <p>This is your student study portal, where you can access your courses, senior notes, resources used by students over the years. </p>
                <p> And whats more? Ask our chatbot all of your questions.</p>
            </section>
            
            <section id="courses-section">
                <h1>Your Courses</h1>
                <div class="subject" button onclick="location.href='{% url 'dsa' %}'">
                    <h2>Data Structures & Algorithms</h2>
                </div>
                <div class="subject" button onclick="location.href='{% url 'csa' %}'">
                    <h2>Computer System Architecture</h2> 
                </div>
                <div class="subject" button onclick="location.href='{% url 'oop' %}'">
                    <h2>Object Oriented Programming</h2>
                </div>
                <div class="subject" button onclick="location.href='{% url 'fne' %}'">
                    <h2>Finance & Econometrics</h2>
                </div>
                <div class="subject" button onclick="location.href='{% url 'math' %}'">
                    <h2>Mathematical Foundation for Data Science</h2>
                </div>
                <!-- Add more subjects as needed -->
            </section>
            <button id="open-chatbot-popup" class="chatbot-button">Chat with our Assistant</button>

    
            <section id="add-course-section">
                <h2>Add a New Course</h2>
                <form id="addCourseForm">
                    <label for="selectBranch">Select a Branch:</label>
                    <select id="selectBranch" name="selectBranch" required>
                        <option value="Data Science">Data Science & Engineering</option>
                        <!-- Add more branches as needed -->
                    </select>
                    <br>
                    <label for="selectSemester">Select a Semester:</label>
                    <select id="selectSemester" name="selectSemester" required>
                        <option value="Physics Cycle">Physics Cycle</option>
                        <option value="Chemistry Cycle">Chemistry Cycle</option>
                        <option value="3rd Semester">3rd Semester</option>
                        <option value="4th Semester">4th Semester</option>
                        <option value="5th Semester">5th Semester</option>
                        <option value="6th Semester">6th Semester</option>
                        <option value="7th Semester">7th Semester</option>
                        <option value="8th Semester">8th Semester</option>
                        <!-- Add more semesters as needed -->
                    </select>
                    <br>
                    <label for="selectCourse">Select a Course:</label>
                    <select id="selectCourse" name="selectCourse" required>
                        <option value="Object Oriented Programming">Object Oriented Programming</option>
                        <option value="Mathematical Foundation for Data Science">Mathematical Foundation for Data Science</option>
                        <option value="Finance & Econometrics">Finance & Econometrics</option>
                        <!-- Add more predefined courses as needed -->
                    </select>
                    <button type="button" id="addCourseButton">Add Course</button>
                </form>
            </section>
                    </main>
    
    <footer>
    <p>&copy; <b>Project Procrastinate</b></p>
    </footer>
    <script>
        function removeCourse(courseDiv) {
            courseDiv.remove();
        }
    
        // Add the "Remove" button to pre-created course divs
        document.querySelectorAll('.subject').forEach(function(courseDiv) {
            const removeButton = document.createElement('button');
            removeButton.className = 'remove-button';
            removeButton.textContent = 'X';
            removeButton.addEventListener('click', function(e) {
                e.stopPropagation(); // Prevent the course div from being clicked
                removeCourse(courseDiv);
            });
            courseDiv.appendChild(removeButton);
        });
    
        // Function to create a new course div with Branch, Semester, and Remove button
        function createCourseDiv(branch, semester, selectedCourse, classTime) {
            const courseDiv = document.createElement("div");
            courseDiv.classList.add("subject");
            courseDiv.innerHTML = `
                <h2>${selectedCourse}</h2>
                <p>Branch: ${branch}</p>
                <p>Semester: ${semester}</p>
            `;
            const removeButton = document.createElement('button');
            removeButton.className = 'remove-button';
            removeButton.textContent = 'X';
            removeButton.addEventListener('click', function(e) {
                e.stopPropagation(); // Prevent the course div from being clicked
                removeCourse(courseDiv);
            });
            courseDiv.appendChild(removeButton);
    
            courseDiv.onclick = function() {
                location.href = `${selectedCourse}.html`;
            };
    
            return courseDiv;
        }
    
        document.getElementById("addCourseButton").addEventListener("click", function () {
            const selectedBranch = document.getElementById("selectBranch").value;
            const selectedSemester = document.getElementById("selectSemester").value;
            const selectedCourse = document.getElementById("selectCourse").value;
            
            if (selectedBranch && selectedSemester && selectedCourse) {
                const courseDiv = createCourseDiv(selectedBranch, selectedSemester, selectedCourse);
                document.getElementById("courses-section").appendChild(courseDiv);
            }
        });
                // Function to open the chatbot popup
        function openChatbotPopup() {
            const chatbotUrl = "https://procrastinate.streamlit.app"; // Replace with your Streamlit app URL
            const width = 300; // Adjust the width as needed
            const height = 500; // Adjust the height as needed
            const left = window.innerWidth - width - 40; // Move the window to the rightmost side
            const top = (window.innerHeight - height) / 2 + 50;

            // Open a popup window with specified dimensions
            const chatbotWindow = window.open(chatbotUrl, "ChatbotPopup", `width=${width}, height=${height}, left=${left}, top=${top}`);
            chatbotWindow.focus(); // Focus on the popup window
        }

        // Attach the function to the button click event
        document.getElementById("open-chatbot-popup").addEventListener("click", openChatbotPopup);

    </script>

        
    </body>
    </html>
